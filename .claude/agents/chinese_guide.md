# Claude skills 与 sub-agents 中文化指南

------

# skills 中文化指南
## ✅ 可以完全中文化的部分

1. **说明文字、教程内容**
   - 所有解释性文本
   - 操作步骤说明
   - 注意事项
   - 示例说明

2. **注释**
   - 代码注释
   - 配置说明

3. **表格中的描述性内容**
   - 任务描述
   - 使用场景说明

## ⚠️ 必须保留英文的部分

### 1. **YAML 前置元数据 (Frontmatter)**
```yaml
---
name: skill-name              # 必须英文,无空格
description: "..."            # 可以中文
license: "..."               # 可以中文
---
```

### 2. **代码相关**
- 所有代码示例
- 命令行指令
- 文件路径
- API 调用
- 包名、函数名、变量名

### 3. **技术术语(建议保留或中英混用)**
- JSON, XML, YAML
- npm, pip, bash
- pandoc, docx
- 文件扩展名(.docx, .pdf 等)

## 📝 推荐的混合方式示例

```markdown
---
name: word-helper
description: "用于创建、编辑 Word 文档(.docx文件)。当用户提到'Word文档'、'报告'、'备忘录'时使用此技能。"
---

# Word 文档处理技能

## 快速参考

| 任务 | 方法 |
|------|------|
| 读取/分析内容 | 使用 `pandoc` 或解压查看原始 XML |
| 创建新文档 | 使用 `docx-js` - 见下方"创建新文档"部分 |
| 编辑现有文档 | 解压 → 编辑 XML → 重新打包 |

### 读取内容

```bash
# 提取文本(包括修订)
pandoc --track-changes=all document.docx -o output.md
```

**重要提示**: 所有代码必须保持英文,但说明可以用中文。
```

## 💡 最佳实践建议

1. **核心指令用中文** - 让中文用户更容易理解
2. **代码示例保持英文** - 确保可执行性
3. **技术术语首次出现时标注中英文** - 例如"文档对象模型(DOM)"
4. **文件路径和命令保持英文** - 避免编码问题

------

# sub-agents 中文化指南

## ✅ 可以完全中文化的部分

### 1. **所有说明性文本**
- 标题和副标题
- 角色描述(Role)
- 流程说明(Process)
- 指导原则(Guidelines)
- 步骤说明(Step 1, Step 2...)

### 2. **示例说明文字**
```markdown
# 执行器代理

在提供的技能上执行评估提示并生成详细的执行记录。

## 角色

执行器运行单个评估案例：加载技能，使用预备输入文件执行提示，并在执行记录中记录所有内容。执行记录作为评分器评估期望的证据。
```

### 3. **表格中的描述性内容**
可以中文化表格表头和说明文字

## ⚠️ 必须保留英文的部分

### 1. **文件名和路径**
```bash
# ✅ 必须保持英文
skill_path
SKILL.md
transcript.md
metrics.json
user_notes.md
grading.json
output_dir
```

### 2. **JSON 字段名(键名)**
```json
{
  "winner": "A",              // ✅ 键名必须英文
  "reasoning": "输出A...",     // ⚠️ 值可以中文
  "rubric": {                 // ✅ 键名必须英文
    "content": {
      "correctness": 5
    }
  }
}
```

### 3. **代码和命令**
```bash
# ✅ 命令必须英文
wc -c < "transcript.md"
python3 << EOF
```

### 4. **技术术语作为标识符时**
```markdown
## Inputs              # ⚠️ 如果作为章节标题可中文化
## Process             # ⚠️ 如果作为章节标题可中文化

- **skill_path**      # ✅ 参数名必须英文
- **prompt**          # ✅ 参数名必须英文
```

## 📝 推荐的混合方式示例

```markdown
# 执行器代理 (Executor Agent)

在技能上执行评估提示并生成详细的执行记录。

## 角色说明

执行器运行单个评估案例：加载技能，使用预备输入文件执行提示，并在执行记录中记录所有内容。

## 输入参数

你会在提示中收到这些参数：

- **skill_path**: 技能目录的路径（包含 SKILL.md 和支持文件）
- **prompt**: 要执行的评估提示
- **input_files_dir**: 包含预备输入文件的目录（可能为空）
- **output_dir**: 保存执行记录和输出的位置

## 处理流程

### 步骤 1: 加载技能

1. 读取 skill_path 路径下的 `SKILL.md`
2. 读取任何引用的文件（脚本、模板、示例）
3. 理解该技能启用了什么以及如何使用

### 步骤 2: 准备输入

1. 列出 input_files_dir 中的文件（如果有）
2. 记录文件类型、大小和用途
3. 这些是评估的测试输入 - 按照提示中的指定使用它们

## 输出格式

保存输出到 `{output_dir}/`:
- `transcript.md` - 详细的执行日志
- `metrics.json` - 工具使用和性能数据
- `user_notes.md` - 需要人工关注的不确定性和问题

### 执行记录格式 (Transcript Format)

```markdown
# 评估执行记录

## 评估提示
[你收到的确切提示]

## 技能信息
- 路径: [skill_path]
- 名称: [从前置元数据获取的技能名称]
- 描述: [简要描述]

## 输入文件
- [filename1]: [描述/类型]
- [filename2]: [描述/类型]
- (或 "未提供")
```

### 指标格式 (Metrics Format)

```json
{
  "tool_calls": {
    "Read": 5,
    "Write": 2,
    "Bash": 8
  },
  "total_tool_calls": 18,
  "files_created": ["filled_form.pdf", "field_values.json"]
}
```

## 指导原则

- **详细记录**: 评分器将使用你的执行记录来评估期望
- **包含工具调用**: 显示你使用了哪些工具及其结果
- **捕获输出**: 内联结果和保存的文件都很重要
```

## 💡 关键规则总结

| 内容类型 | 中文化 | 原因 |
|---------|--------|------|
| 标题、说明文字 | ✅ 可以 | 便于理解 |
| 参数名、字段名 | ❌ 不可以 | 代码引用需要 |
| 文件名、路径 | ❌ 不可以 | 系统标识符 |
| JSON 键名 | ❌ 不可以 | 程序解析需要 |
| JSON 值(内容) | ✅ 可以 | 仅供人类阅读 |
| 代码示例 | ❌ 不可以 | 需要可执行 |
| Markdown 格式标记 | ❌ 不可以 | 系统识别需要 |
| 表格内描述 | ✅ 可以 | 便于理解 |

## 🎯 实用建议

1. **首次出现时标注中英文对照** - 例如 "执行记录(transcript)"
2. **代码块内保持纯英文** - 包括注释
3. **文档结构可以中文化** - 章节标题、段落说明等
4. **所有标识符保持英文** - 包括变量名、文件名、字段名
5. **混合使用时优先可读性** - 在不影响功能的前提下最大化中文使用